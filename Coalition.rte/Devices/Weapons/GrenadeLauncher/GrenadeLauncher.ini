///////////////////////////////////////////////////////////////////////
// Grenade Launcher Effects


AddEffect = MOSRotating
	PresetName = Grenade Launcher Grenade Explosion
	Mass = 5
	RestThreshold = -500
	HitsMOs = 0
	GetsHitByMOs = 0
	Sharpness = 0
	SpriteFile = ContentFile
		FilePath = Base.rte/Null.bmp
	AtomGroup = AtomGroup
		CopyOf = Null AtomGroup
	GibSound = Sound
		AddSample = ContentFile
			Path = Base.rte/Sounds/Explosions/Explode1.wav
		AddSample = ContentFile
			Path = Base.rte/Sounds/Explosions/Explode2.wav
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Glow Explosion Huge
		Count = 1
		Spread = 2.25
		MaxVelocity = 0.1
		MinVelocity = 0
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Gray
		Count = 26
		MinVelocity = 20
		MaxVelocity = 35
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Yellow
		Count = 26
		MinVelocity = 20
		MaxVelocity = 35
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Air Blast
		Count = 20
		MinVelocity = 30
		MaxVelocity = 55
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Explosion Smoke 1
		Count = 2
		Spread = 3.1
		MaxVelocity = 5
		MinVelocity = 0
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Explosion Smoke 2
		Count = 2
		Spread = 3.1
		MaxVelocity = 5
		MinVelocity = 0
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Explosion Smoke 2 Glow
		Count = 2
		Spread = 3.1
		MaxVelocity = 3
		MinVelocity = 0
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = AEmitter
			CopyOf = Explosion Trail 1
		Count = 1
		Spread = 3.1
		MaxVelocity = 30
		MinVelocity = 15
		LifeVariation = 0.50
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Flame Smoke 1
		Count = 1
		Spread = 3.1
		MaxVelocity = 7
		MinVelocity = 3
		LifeVariation = 0.50
		InheritsVel = 0
	GibImpulseLimit = 15000


///////////////////////////////////////////////////////////////////////
// Grenade Launcher Ammo


AddEffect = MOSRotating
	PresetName = Grenade Launcher Shot Impact
	Mass = 5
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.bmp
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	AddEmitter = AEmitter
		CopyOf = Smoke Trail Medium
	GibSound = Sound
		AddSample = ContentFile
			Path = Base.rte/Sounds/Explosions/Explode1.wav
		AddSample = ContentFile
			Path = Base.rte/Sounds/Explosions/Explode2.wav
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Glow Explosion Huge
		Count = 1
		Spread = 2.25
		MaxVelocity = 0.1
		MinVelocity = 0
		InheritsVel = 0
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Side Thruster Blast Ball 1
		Count = 10
		MinVelocity = 50
		MaxVelocity = 75
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Gray
		Count = 32
		Spread = 3.1
		MinVelocity = 50
		MaxVelocity = 75
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Grenade Fragment Yellow
		Count = 32
		Spread = 3.1
		MinVelocity = 50
		MaxVelocity = 75
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Air Blast
		Count = 50
		MinVelocity = 50
		MaxVelocity = 150
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Explosion Smoke 1
		Count = 34
		Spread = 3.1
		MaxVelocity = 10
		MinVelocity = 0
		LifeVariation = 0.50
		InheritsVel = 1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Explosion Smoke 2
		Count = 28
		Spread = 3.1
		MaxVelocity = 12
		MinVelocity = 0
		LifeVariation = 0.50
		InheritsVel = 1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Explosion Smoke 2 Glow
		Count = 6
		Spread = 3.1
		MaxVelocity = 10
		MinVelocity = 0
		LifeVariation = 0.50
		InheritsVel = 1
	AddGib = Gib
		GibParticle = AEmitter
			CopyOf = Explosion Trail 1
		Count = 6
		Spread = 3.1
		MaxVelocity = 40
		MinVelocity = 20
		LifeVariation = 0.50
		InheritsVel = 1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Flame Smoke 1
		Count = 15
		Spread = 3.1
		MaxVelocity = 12
		MinVelocity = 3
		LifeVariation = 0.50
	GibImpulseLimit = 5


AddActor = Actor
	PresetName = Grenade Launcher Shot Bounce
	Mass = 5
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeBounce.lua
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.bmp
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
			PresetName = Coalition Grenade Military Stuff
			Bounce = 0.5
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Coalition Grenade Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	ImpulseDamageThreshold = 10000
	Status = 0
	Health = 100
	Team = -1
	AimAngle = 0
	AimDistance = 0
	Perceptiveness = 0
	CharHeight = 0
	HolsterOffset = Vector
		X = 0
		Y = 0
	AddEmitter = AEmitter
		CopyOf = Smoke Trail Medium
	GibImpulseLimit = 9999999999
	GibWoundLimit = 2


AddActor = Actor
	PresetName = Grenade Launcher Shot Remote
	Mass = 5
	RestThreshold = -500
	HitsMOs = 1
	GetsHitByMOs = 0
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeRemote.lua
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherShot.bmp
	FrameCount = 1
	OrientToVel = 0.7
	SpriteOffset = Vector
		X = -3
		Y = -2
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 1
	DeepCheck = 0
	ImpulseDamageThreshold = 10000
	Status = 0
	Health = 100
	Team = -1
	AimAngle = 0
	AimDistance = 0
	Perceptiveness = 0
	CharHeight = 0
	HolsterOffset = Vector
		X = 0
		Y = 0
	AddEmitter = AEmitter
		CopyOf = Smoke Trail Medium
	GibImpulseLimit = 9999999999
	GibWoundLimit = 2


AddAmmo = Round
	PresetName = Round Grenade Launcher Impact Grenade
	ParticleCount = 1
	Particle = MOSRotating
		CopyOf = Grenade Launcher Shot Impact
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 30
	ShellVelocity = 0
	Separation = 5


AddAmmo = Round
	PresetName = Round Grenade Launcher Bounce Grenade
	ParticleCount = 1
	Particle = Actor
		CopyOf = Grenade Launcher Shot Bounce
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 30
	ShellVelocity = 0
	Separation = 5


AddAmmo = Round
	PresetName = Round Grenade Launcher Remote Grenade
	ParticleCount = 1
	Particle = MOPixel
		CopyOf = Null Bullet
		PresetName = Grenade Launcher Null Grenade
		LifeTime = 2000
	Shell = MOSParticle
		CopyOf = Small Smoke Ball 1
	FireVelocity = 30
	ShellVelocity = 0
	Separation = 5


AddAmmo = Magazine
	PresetName = Magazine Grenade Launcher Impact Grenade
	Mass = 4
	HitsMOs = 0
	GetsHitByMOs = 0
	CollidesWithTerrainWhenAttached = 1
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherMagazine.bmp
	FrameCount = 1
	SpriteOffset = Vector
		X = -3
		Y = -10
	ParentOffset = Vector
		X = 4
		Y = 6
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Bullet Metal
		Resolution = 2
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Bullet Metal
		Resolution = 3
		Depth = 1
	DeepCheck = 0
	JointStrength = 200
	JointStiffness = 1
	DrawAfterParent = 1
	RoundCount = 6
	RTTRatio = 0
	RegularRound = Round
		CopyOf = Round Grenade Launcher Impact Grenade
	TracerRound = None
	Discardable = 1
	AIBlastRadius = 50


AddAmmo = Magazine
	CopyOf = Magazine Grenade Launcher Impact Grenade
	PresetName = Magazine Grenade Launcher Bounce Grenade
	RegularRound = Round
		CopyOf = Round Grenade Launcher Bounce Grenade


AddAmmo = Magazine
	CopyOf = Magazine Grenade Launcher Impact Grenade
	PresetName = Magazine Grenade Launcher Remote Grenade
	RegularRound = Round
		CopyOf = Round Grenade Launcher Remote Grenade


///////////////////////////////////////////////////////////////////////
// Grenade Launcher


AddDevice = HDFirearm
	PresetName = Grenade Launcher
	AddToGroup = Weapons
	AddToGroup = Weapons - Primary
	AddToGroup = Weapons - Light
	AddToGroup = Weapons - Explosive
	Description = Automatic grenade launcher.  Upon impact with anything, the grenades don't explode.  Instead, they stick to terrain and objects and can be remotely detonated.  Detonate grenades by selecting the 'Detonate Grenades' button in the pie menu while holding the launcher, or remove them by pressing the 'Remove Grenades' button.  Up to 12 grenades can be active at the same time.
	Mass = 12
	HitsMOs = 0
	GetsHitByMOs = 1
	ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncher.lua
	SpriteFile = ContentFile
		FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncher.bmp
	FrameCount = 2
	SpriteOffset = Vector
		X = -10
		Y = -4
	EntryWound = AEmitter
		CopyOf = Dent Metal
	ExitWound = AEmitter
		CopyOf = Dent Metal
	GoldValue = 90
	AtomGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 0
	DeepGroup = AtomGroup
		AutoGenerate = 1
		Material = Material
			CopyOf = Military Stuff
		Resolution = 4
		Depth = 10
	DeepCheck = 0
	JointStrength = 200
	JointStiffness = 0.5
	JointOffset = Vector
		X = -2
		Y = 3
	DrawAfterParent = 0
	StanceOffset = Vector
		X = 6
		Y = 6
	SharpStanceOffset = Vector
		X = 9
		Y = 2
	SupportOffset = Vector
		X = 2
		Y = 5
	SharpLength = 100
	Magazine = Magazine
		CopyOf = Magazine Grenade Launcher Impact Grenade
	Flash = Attachable
		CopyOf = Muzzle Flash Shotgun
	FireSound = Sound
		AddSample = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire1.wav
		AddSample = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire2.wav
		AddSample = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/Fire3.wav
	EmptySound = Sound
		AddSample = ContentFile
			FilePath = Base.rte/Sounds/Devices/EmptyClick1.wav
	ReloadStartSound = Sound
		AddSample = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/ReloadStart.wav
	ReloadEndSound = Sound
		AddSample = ContentFile
			FilePath = Coalition.rte/Devices/Weapons/GrenadeLauncher/Sounds/ReloadEnd.wav
	RateOfFire = 170
	ReloadTime = 2500
	FullAuto = 1
	FireIgnoresThis = 1
	ShakeRange = 10
	SharpShakeRange = 3
	NoSupportFactor = 3
	ParticleSpreadRange = 3
	ShellSpreadRange = 8
	ShellAngVelRange = 0
	MuzzleOffset = Vector
		X = 10
		Y = 0
	EjectionOffset = Vector
		X = 10
		Y = 0
	AddPieSlice = Slice
		Description = Impact Mode
		Direction = 2
		Icon = Icon
			CopyOf = Impact
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherImpact
	AddPieSlice = Slice
		Description = Bounce Mode
		Direction = 2
		Icon = Icon
			CopyOf = Bounce
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherBounce
	AddPieSlice = Slice
		Description = Remote Mode
		Direction = 2
		Icon = Icon
			CopyOf = Remote
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemote
	AddPieSlice = Slice
		Description = Remove Grenades
		Direction = 1
		Icon = Icon
			CopyOf = Cancel
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemoteDelete
	AddPieSlice = Slice
		Description = Detonate Grenades
		Direction = 1
		Icon = Icon
			CopyOf = Detonate
		ScriptPath = Coalition.rte/Devices/Weapons/GrenadeLauncher/GrenadeLauncherPie.lua
		FunctionName = GrenadeLauncherRemoteDetonate
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon A
		Offset = Vector
			X = -4
			Y = -1
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon H
		Offset = Vector
			X = 4
			Y = -1
	AddGib = Gib
		GibParticle = MOSRotating
			CopyOf = Gib Weapon G
		Offset = Vector
			X = 1
			Y = -2
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = 3
			Y = -1
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = -2
			Y = 4
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Military Tiny A
		Offset = Vector
			X = 3
			Y = 2
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Metal Dark Micro A
		Offset = Vector
			X = 1
			Y = 4
	AddGib = Gib
		GibParticle = MOSParticle
			CopyOf = Gib Metal Dark Micro A
		Offset = Vector
			X = 6
			Y = 1
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Spark Yellow 1
		Count = 6
		Spread = 2.25
		MaxVelocity = 20
		MinVelocity = 8
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Spark Yellow 2
		Count = 5
		Spread = 2.25
		MaxVelocity = 20
		MinVelocity = 8
	AddGib = Gib
		GibParticle = MOPixel
			CopyOf = Drop Oil
		Count = 8
		Spread = 2.25
		MaxVelocity = 10
		MinVelocity = 1
	GibWoundLimit = 6